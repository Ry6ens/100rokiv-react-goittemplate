{"version":3,"file":"static/js/271.97883849.chunk.js","mappings":"uQAkBe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOH,IAAjB,IA4C9B,OAtCAI,EAAAA,EAAAA,YAAU,WACK,OAATJ,GACFK,OAAOC,wBAEV,GAAE,CAACN,IAEJK,OAAOC,uBAAyB,WAC9BD,OAAOE,eAAeC,KAAK,CACzBC,KAAMT,EAAKS,KACXC,UAAWV,EAAKU,UAChBC,QAAS,mBACTC,SAAU,KACVC,KAAM,UAELC,GAAG,mBAAmB,SAAUL,GAC/BM,QAAQC,IAAIP,GACQ,YAAhBA,EAAKQ,SACPrB,EAASsB,EAAAA,EAAAA,eACTtB,EAASuB,EAAAA,EAAAA,eACTvB,EAASwB,EAAAA,EAAAA,eACTtB,EAAS,YAEZ,IACAgB,GAAG,gBAAgB,SAAUL,GAE7B,IACAK,GAAG,gBAAgB,SAAUL,GAE7B,GACJ,GAUC,+BAWE,gBAAKY,GAAG,qBAQb,C","sources":["pages/CheckoutPage/CheckoutPage.jsx"],"sourcesContent":["/* eslint-disable no-undef */\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n// import parse from 'html-react-parser';\nimport { useEffect } from 'react';\n// import Iframe from 'react-iframe';\n// import { Helmet } from 'react-helmet-async';\n// import Frame from 'react-frame-component';\n\n// import Loader from 'components/Loader/Loader';\n// import Section from 'components/Section/Section';\n// import { getLiqResultOperations } from 'redux/liqpay/liqpay-operations';\n\n// const liqpay = document.querySelector('#liqpay_checkout');\nimport { basketProductsActions } from 'redux/basketProducts/basketProducts-slice';\nimport { basketTicketsActions } from 'redux/basketTickets/basketTickets-slice';\nimport { basketLiqPayActions } from 'redux/liqpay/liqpay-slice';\n\nexport default function CheckoutPage() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const keys = useSelector(store => store.liqpay.keys);\n  // const loadingPay = useSelector(store => store.liqpay.loading);\n  // const [html, setHTML] = useState('');\n\n  // const html = `https://www.liqpay.ua/api/3/checkout?data=${keys.data}&signature=${keys.signature}`;\n\n  useEffect(() => {\n    if (keys !== null) {\n      window.LiqPayCheckoutCallback();\n    }\n  }, [keys]);\n\n  window.LiqPayCheckoutCallback = function () {\n    window.LiqPayCheckout.init({\n      data: keys.data,\n      signature: keys.signature,\n      embedTo: '#liqpay_checkout',\n      language: 'uk',\n      mode: 'embed', // embed || popup,\n    })\n      .on('liqpay.callback', function (data) {\n        console.log(data);\n        if (data.status === 'success') {\n          dispatch(basketProductsActions.clearBasket());\n          dispatch(basketTicketsActions.clearBasket())\n          dispatch(basketLiqPayActions.clearBasket())\n          navigate('/success');\n        }\n      })\n      .on('liqpay.ready', function (data) {\n        // ready\n      })\n      .on('liqpay.close', function (data) {\n        // close\n      });\n  };\n\n  // if (keys !== null) {\n  //   console.log(window.LiqPayCheckoutCallback);\n  //   console.log( window.LiqPayCheckout.init)\n\n  //   return;\n  // }\n\n  return (\n    <>\n      {/* <iframe\n        src={html}\n        allow=\"payment\"\n        frameBorder=\"0\"\n        title=\"liqpay\"\n        style={{overflow:\"hidden\", height:\"100vh\", width:\"100%\"}}\n        height=\"100vh\"\n        width=\"100%\"\n      ></iframe> */}\n\n      <div id=\"liqpay_checkout\"></div>\n\n      {/* <Helmet>\n        <script>{html}</script>\n        <script src=\"//static.liqpay.ua/libjs/checkout.js\" async></script>\n      </Helmet> */}\n    </>\n  );\n}\n"],"names":["CheckoutPage","dispatch","useDispatch","navigate","useNavigate","keys","useSelector","store","liqpay","useEffect","window","LiqPayCheckoutCallback","LiqPayCheckout","init","data","signature","embedTo","language","mode","on","console","log","status","basketProductsActions","basketTicketsActions","basketLiqPayActions","id"],"sourceRoot":""}
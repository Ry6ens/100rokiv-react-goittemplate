{"version":3,"file":"static/js/357.9d19699e.chunk.js","mappings":"kRAUe,SAASA,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOH,IAAjB,IACxBI,GAAUH,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,OAAOC,OAAjB,KAEjCC,EAAAA,EAAAA,YAAU,WACK,OAATL,GACFM,OAAOC,wBAEV,GAAE,CAACP,IAEJ,IAAkBQ,EA6BlB,OAzBAF,OAAOC,uBAAyB,WAC9BD,OAAOG,eAAeC,KAAK,CACzBF,KAAMR,EAAKQ,KACXG,UAAWX,EAAKW,UAChBC,QAAS,mBACTC,SAAU,KACVC,KAAM,UAELC,GAAG,mBAAmB,SAAUP,GACX,YAAhBA,EAAKQ,SACPpB,EAASqB,EAAAA,EAAAA,eACTrB,EAASsB,EAAAA,EAAAA,eACTtB,EAASuB,EAAAA,EAAAA,eACTrB,EAAS,YAEZ,IACAiB,GAAG,gBAAgB,SAAUP,GAG7B,IACAO,GAAG,gBAAgB,SAAUP,GAE7B,GACJ,EACHY,QAAQC,MA3BGC,QAAQd,KA6Bf,gCACGJ,GAAU,SAACmB,EAAA,EAAD,KAAa,yBACxB,gBAAKC,GAAG,sBAGb,C","sources":["pages/BasketPage/CheckoutPage/CheckoutPage.jsx"],"sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\n\nimport { basketProductsActions } from 'redux/basketProducts/basketProducts-slice';\nimport { basketTicketsActions } from 'redux/basketTickets/basketTickets-slice';\nimport { basketLiqPayActions } from 'redux/liqpay/liqpay-slice';\n\nimport Loader from 'components/Loader/Loader';\n\nexport default function CheckoutPage() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const keys = useSelector(store => store.liqpay.keys);\n  const loading = useSelector(store => store.liqpay.loading)\n\n  useEffect(() => {\n    if (keys !== null) {\n      window.LiqPayCheckoutCallback();\n    }\n  }, [keys]);\n\n  let liqpayReady = data => {\n    return Boolean(data) ? true : false;\n  };\n\n  window.LiqPayCheckoutCallback = function () {\n    window.LiqPayCheckout.init({\n      data: keys.data,\n      signature: keys.signature,\n      embedTo: '#liqpay_checkout',\n      language: 'uk',\n      mode: 'embed', // embed || popup,\n    })\n      .on('liqpay.callback', function (data) {\n        if (data.status === 'success') {\n          dispatch(basketProductsActions.clearBasket());\n          dispatch(basketTicketsActions.clearBasket());\n          dispatch(basketLiqPayActions.clearBasket());\n          navigate('/success');\n        }\n      })\n      .on('liqpay.ready', function (data) {\n        // console.log(data);\n        // liqpayReady(data);\n      })\n      .on('liqpay.close', function (data) {\n        // close\n      });\n  };\nconsole.log(liqpayReady())\n  return (\n    <>\n      {loading ? <Loader /> : <></>}\n      <div id=\"liqpay_checkout\"></div>\n    </>\n  );\n}\n "],"names":["CheckoutPage","dispatch","useDispatch","navigate","useNavigate","keys","useSelector","store","liqpay","loading","useEffect","window","LiqPayCheckoutCallback","data","LiqPayCheckout","init","signature","embedTo","language","mode","on","status","basketProductsActions","basketTicketsActions","basketLiqPayActions","console","log","Boolean","Loader","id"],"sourceRoot":""}